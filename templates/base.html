{% load static %}

<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  {% block meta %}
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  {% endblock %}

  {% block extra_meta %}
  {% endblock %}

  <!-- Bootstrap CSS -->
  {% block corecss %}
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&family=Luckiest+Guy&family=Monoton&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/base.css' %}">
  <!-- Materialize CSS -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.1/css/materialize.min.css"
    integrity="sha256-qj3p6P1fJIV+Ndv7RW1ovZI2UhOuboj9GcODzcNFIN8=" crossorigin="anonymous" />
  {% endblock %}

  {% block extra_css %}
  {% endblock %}

  {% block corejs %}
  <script src="https://kit.fontawesome.com/9dd0908621.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous">
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
    integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous">
  </script>

  <!-- Materialize -->
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.1/js/materialize.min.js"
    integrity="sha256-SrBfGi+Zp2LhAvy9M1bWOCXztRU9Ztztxmu5BcYPcPE=" crossorigin="anonymous"></script>

  <script>
    $(document).ready(function () {

      // Initialize materialize data picker
      $('.datepicker').datepicker({
        'format': 'yyyy-mm-dd'
      });
      $('select').formSelect();

    });

    // Or with jQuery

    $(document).ready(function () {
      $('.sidenav').sidenav();
    });
  </script>

  <!-- Stripe -->
  <script src="https://js.stripe.com/v3/"></script>
  {% endblock %}

  {% block extra_js %}
  {% endblock %}

  <title>Just Tri It! {% block extra_title %}{% endblock %}</title>
</head>

<body>
  <nav class="nav-extended">
    <div class="nav-wrapper">
      <a href="{% url 'home' %}" class="brand-logo">Just Tri It!</a>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        {% if request.user.is_authenticated %}
        {% if request.user.is_superuser %}
        <li><a href="{% url 'profile_admin' %}">Profile Admin</a></li>
        {% endif %}
        {% if request.user.profile.is_seller %}
        <li><a href="{% url 'listings' %}">Listing Admin</a></li>
        {% endif %}
        <li><a href="{% url 'profile' %}">Athlete Profile</a></li>
        <li><a href="{% url 'account_logout' %}">Logout</a></li>
        {% else %}
        <li><a href="{% url 'account_signup' %}">Register</a></li>
        <li><a href="{% url 'account_login' %}">Login</a></li>
        {% endif %}
      </ul>
    </div>

    <div class="nav-content">
      <ul class="tabs tabs-transparent">
        <li class="tab"><a href="{% url 'listings' %}">All Listings</a></li>
        <li class="tab"><a class="active" href="#test2">Swim</a></li>
        <li class="tab disabled"><a href="#test3">Bike</a></li>
        <li class="tab"><a href="#test4">Run</a></li>
        <li class="tab">
          <a href="{% url 'view_basket' %}">
            <div class="text-center">
              <div><i class="fas fa-shopping-bag fa-lg"></i></div>
              <p>
                {% if grand_total %}
                £{{ grand_total|floatformat:2 }}
                {% else %}
                £0.00
                {% endif %}
              </p>
            </div>
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <ul class="sidenav" id="mobile-demo">
    {% if request.user.is_authenticated %}
    {% if request.user.is_superuser %}
    <li><a href="{% url 'profile_admin' %}">Profile Admin</a></li>
    {% endif %}
    {% if request.user.profile.is_seller %}
    <li><a href="{% url 'listings' %}">Listing Admin</a></li>
    {% endif %}
    <li><a href="{% url 'profile' %}">Athlete Profile</a></li>
    <li><a href="{% url 'account_logout' %}">Log Out</a></li>
    {% else %}
    <li><a href="{% url 'account_login' %}">Login</a></li>
    <li><a href="{% url 'account_signup' %}">Register</a></li>
    {% endif %}
  </ul>


  <div class="text-center">
    <h5>Place an order over £{{ free_delivery_threshold }} for free delivery!</h5>
  </div>


  {% if messages %}
  <div class="message-container"></div>
  {% endif %}

  {% block page_header %}
  {% endblock %}

  {% block content %}
  {% endblock %}

  {% block postloadjs %}
  {% endblock %}

</body>

</html>